Date: 2023-04-02 - Time: 14:32
___
Tags: #QUESTION #NO_ANSWER
___
### Question:
### Подключение общей папки в KVM машину.
___
### Answer:
ответил #CHAT-GPT
пока не проверял.
___
### Detail:
Для подключения внешнего каталога к виртуальной машине на базе KVM можно использовать механизм общей папки (Shared Folders).

Для этого необходимо выполнить следующие шаги:

1. Установить пакеты qemu-guest-agent и spice-vdagent на [гостевой операционной системе](Гостевая%20операционная%20система%20это...md) виртуальной машины.
``` shell
sudo apt-get install qemu-guest-agent spice-vdagent
```

2. В конфигурационном файле виртуальной машины указать путь к внешнему каталогу внутри опции "filesystem".

``` bash
<filesystem driver="path" mode="passthrough" accessmode="squash">
    <source path="/path/to/shared/folder"/>
    <target dir="shared"/>
</filesystem>
```

Здесь "/path/to/shared/folder" - это путь к каталогу на хост-системе, который будет сконфигурирован в качестве общей папки.

3. Запустить виртуальную машину и выполнить следующую команду на гостевом операционной системе, чтобы монтировать общую папку.

``` shell
sudo mount -t 9p -o trans=virtio,version=9p2000.L shared /mnt/shared
```

Здесь "shared" - это тот же каталог, который указан в конфигурационном файле виртуальной машины, а "/mnt/shared" - это точка монтирования общей папки на гостевом операционной системе.

После этого вы сможете работать с файлами и папками внутри общей папки на гостевой операционной системе виртуальной машины.

Обратите внимание, что для работы механизма общего каталога необходимо использовать соответствующий драйвер файловой системы в гостевой операционной системе (в данном случае - 9p).
___
### Zero-Links
[00_LINUX_UTIL](../__Z_CORE/00_LINUX_UTIL.md)
___
### Links
