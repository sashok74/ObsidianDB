Date: 2023-04-01 - Time: 08:12
___
Tags: #VIEWMODEL #INDUCTION #HITEK
___
# Отображение данных в гриде.
___ 
### Shot Descripion:
получаем данные с сервера и отображаем в гриде. 
возможность отображать древовидную структур.
фильтровать данные. 
сохранять фильтры.
___
### Main info:
#### Получение данных:
1. Данные получаем с сервера по имени процедуры в базе данных, по сути этой процедуры может не существовать в базе. и данные будет возвращать обработчик на сервере по соответствующему роуту. Процедура должна получать параметры в теле запроса.
2. Описание входных и выходных параметров также получается с сервера по имени процедуры.
3. Для отображения данных в гриде мы должны знать формат отображения данных. наименование колонок. ширину колонок. 
4. Для самого грида должны быть данные. по отображению дерева (ID, PID). Поля по которым может быть сортировка.
### Описание данных получаемых с сервера.
1. Список параметров описывающих грид:
POS | FIELD_NAME |	FIELD_TYPE |	DESCRIPTION
-----|-------- |-------------|-------------
0|PROC_INFO_ID      |INTEGER    |Первичный ключ
1|PROC_NAME         |CHAR(31)   |
2|PROC_DESCRIPT     |VARCHAR100)|Заголовок для формы
3|ACTION_CATEGORY_ID|INTEGER    |Категория меню (-)
4|SHORT_CUT         |VARCHAR25) |Горячая клавиша (-)
5|TREE              |SMALLINT   |Показывать в виде дерева
6|TREE_FIELD_ID     |CHAR(31)   |ID
7|TREE_FIELD_PID    |CHAR(31)   |PID
8|EDIT_GRID         |SMALLINT   |Редактировать в гриде
9|SHOW_FRAME_CAPTION|SMALLINT   |
10|FRAME_CAPTION     |VARCHAR50) |Заголовок фрейма
11|SHOW_EXTRA_PANEL  |SMALLINT   |
12|SHOW_ST_FILTER    |SMALLINT   |
13|SHOW_SEARCH_PANEL |SMALLINT   |
14|DATE_TIME_CHANGE  |TIMESTAMP  |
15|FIT_FIELDS        |SMALLINT   |Вместить все поля
16|TREE_CHANGE_PARENT|SMALLINT   |
17|SELF_COPY         |SMALLINT   |
18|TREE_EXPAND       |SMALLINT   |Сколько уровней открыть. (-1 все)
пустые поля есть, но про них пока забудем. как и про помеченные (-)

2. Список описывающий входные и выходные параметры процедуры
POS | FIELD_NAME |	CAPTION |	DESCRIPTION
-----|-------- |-------------|-------------
35|PROC_NAME                      || имя процедуры для которой параметры 
0|IN_PARAM                       |IN|  0 - входной параметры 1 - выходной
1|IS_KEY                         |key| это ключевое поле. может быть несколько, ид в базе
2|SELF_COPY                      |Copy|  для копирования (-)
3|IS_ORD                         |Order Field|  это поле для сортировки в гриде. есть специальная функция которая будет универсальным образом менять этот ордрер если в гриде поле перемещать мышью
4|AS_TYPE                        ||  
5|PARAM_NAME                     ||  
6|COLUMN_VISIBLE                 |CoV| показывать колонку 
7|CONTROL_VISIBLE                |EdV|  это для отдельных контролов (-)
8|COLUMN_ORDER                   |Co#| порядковый номер колонки 
9|CONTROL_ORDER                  |Ed#|  
10|GRID_CAPTION                   |Grid Title|заголовок колонки в гриде  
11|CONTROL_CAPTION                |Cntr Title|  
12|FOOTER_VALUE_TYPE              |F.SUM|  это функция футера грида. в котором могут быть сводные данные.
13|CAPTION_ALIGN                  |Title Align| ориентация заголовка  
14|FILE_LINK_TYPE_NAME            |Тип файла| файлы (-) 
15|GLB_PARAM_NAME                 ||  
16|COLUMN_WIDTH                   |Col W|  ширина колонки
17|COLUMN_MIN_WIDTH               |Min W|  минимальная ширина.
18|COLUMN_MAX_WIDTH               |Max W|  максимальная ширина.
19|CPP_TYPE                       || с++ тип 
20|DESCRIPTION                    || описание 
21|READ_ONLY                      |RO|  поле только для чтения.
22|CHECKBOXES                     |CB|  поле показывается как чекбокс. (в PICKLIST первое значение отжат, а второе нажат)
23|HIDE_DUPLICATES                |H.D| не показывать дубликаты в соседних строках. 
24|KEYLIST                        || для показа картинок в поле. порядковый номер картинки из специального листа с изображениями 
25|PICKLIST                       || Связана CHECKBOXES   
26|HINT_TEXT                      || подсказка при наводки мышки на заголовок столбца 
27|DISPLAY_FORMAT                 || формат поля.  типа "99-999-999"
28|FILE_LINK_TYPE_ID              ||  
29|PROC_FIELD_INFO_ID             ||  
30|SELECT_PROC_NAME               ||  
31|PARAM_TYPE                     || SQL тип 
32|PAGE_NAME                      || для разбиения на вкладки (-) 
33|PAGE_ORDER                     || для разбиения на вкладки (-)  
34|PROC_PARAM_COLUMN              || для разбиения на вкладки (-) 
35|PROC_PARAM_PAGES_ID            || для разбиения на вкладки (-) 
36|CUR_USER_ID                    |USER ID| пользователь под которого выбрались индивидуальные параметры грида. 
37|P_KEY_FIELD                    ||  типы привязанных файлов
38|PARAM_LENGTH                   ||  
___
### Zero-Links
[00_WORK](../../__Z_CORE/00_WORK.md)
___
### Links
